<app-navbar></app-navbar>
<ng-container *ngIf="product.length != 0">
  <div class="fondo">
    <div class="container">
      <div class="row">
        <div class="col-md-12 mainContainer">
          <div class="row p-4">
            <div class="col-md-8">
              <div class="card-table">
                <div class="cart-product">
                  <h2>Carrito de la compra</h2>
                  <table class="table table-responsive">
                    <tbody>
                      <tr
                        *ngFor="let item of product; let i = index"
                        class="mainContainer d-flex align-items-center justify-content-around"
                      >
                        <td class="tdImg">
                          <img
                            src="{{ item.imgUrl }}"
                            alt="Cart item image"
                            class="itemImage"
                          />
                        </td>
                        <td>{{ item.name }}</td>
                        <td class="tdQuantity">
                          <span class="d-flex align-items-center">
                            <button
                              class="btn"
                              (click)="increaseQuantity(item)"
                            >
                              <i class="fa fa-plus"></i>
                            </button>
                            <span class="quantity">{{ cantidad }}</span>
                            <button
                              class="btn"
                              (click)="decreaseQuantity(item)"
                            >
                              <i class="fa fa-minus"></i>
                            </button>
                          </span>
                        </td>
                        <td>
                          <b>{{ total }}€</b>
                        </td>
                        <td>
                          <button
                            (click)="removeItem(item)"
                            class="btn btnRemove"
                          >
                            <i class="fas fa-trash-alt"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="row">
                  <div class="col">
                    <button (click)="emptyCart()" class="btn emptyCartBtn">
                      Vaciar Carrito
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 payment text-white">
              <div class="row mt-4">
                <div class="col-10">
                  <h2>Card Details</h2>
                </div>
                <div class="col-2">
                  <img class="imgProfile" src="../../assets/nick.png" alt="" />
                </div>
              </div>
              <form action="submit">
                <span>Card Type</span>
                <div class="row">
                  <div class="col-4">
                    <img
                      class="imgPayment"
                      src="../../assets/visa.png"
                      alt="visa"
                    />
                  </div>
                  <div class="col-4">
                    <img
                      class="imgPayment"
                      src="../../assets/paypal.png"
                      alt="visa"
                    />
                  </div>
                  <div class="col-4">
                    <img
                      class="imgPayment"
                      src="../../assets/stripe.png"
                      alt="visa"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="mb-3">
                    <label for="cardName" class="form-label"
                      >Name on Card</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="cardName"
                      placeholder="Name on Card"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="mb-3">
                    <label for="cardNumber" class="form-label">Password</label>
                    <input
                      type="number"
                      class="form-control"
                      id="cardNumber"
                      placeholder="Card Number"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="mb-3 col-md-6">
                    <label for="expirationDate" class="form-label"
                      >Expiration Date</label
                    >
                    <input
                      type="date"
                      class="form-control"
                      id="expirationDate"
                    />
                  </div>
                  <div class="fmb-3 col-md-6">
                    <label for="cvv" class="form-label">CVV</label>
                    <input
                      type="number"
                      class="form-control"
                      id="cvv"
                      placeholder="XXX"
                    />
                  </div>
                </div>
                <hr />
                <div class="row totals">
                  <div class="col-8">
                    <p>Subtotal</p>
                    <p>Gastos de envio</p>
                    <p>Total (iva incl.)</p>
                  </div>
                  <div class="col-4">
                    <p>
                      <b>{{ total }}€</b>
                    </p>
                    <p><b>20.00€</b></p>
                    <p>
                      <b>{{ totalShipp }}€</b>
                    </p>
                  </div>
                </div>
                <button type="submit" class="btn btn-primary btn-checkout mb-4">
                  {{ totalShipp }}€ Checkout
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="product.length == 0">
  <div class="fondo">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-md-4 text-center">
          <div class="carrito">
            <img
              src="../../assets/shopping-cart.png"
              alt="Empty shopping cart"
              class="mb-4 mt-4 imgCarrito"
            />
            <h3>El carrito està vacío</h3>
            <h4>Añade productos al carrito</h4>
            <button
              [routerLink]="['/productos']"
              class="btn btn-comprar w-50 mb-4"
            >
              Compra Aquí
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<footer-component></footer-component>

<!-- TODO VIDEO MINUTO ACTUAL -->
<!-- https://youtu.be/855KrFfF9-w?t=4372 -->
<!-- https://github.com/yshashi/add-to-cart -->
